"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WriteTransactionItemLimitExceededError = void 0;
const constants_1 = require("../constants");
class WriteTransactionItemLimitExceededError extends Error {
    constructor(originalItemsCount, generatedItemsCount) {
        super();
        this.name = 'WriteTransactionItemLimitExceededError';
        this.message = `Transaction write limit exceeded. Tried to write total "${originalItemsCount}" items in a single transaction, 
    current transaction write limit is "${constants_1.TRANSACTION_WRITE_ITEMS_LIMIT}".`;
        if (generatedItemsCount && generatedItemsCount > originalItemsCount) {
            this.message += `\n
      This could be because, how unique entities are handled. 
      Initially, "${originalItemsCount}" items were requested to be processed in a transaction,
      but after the unique entities transform, transaction write items were at "${generatedItemsCount}"
      which is larger amount than the number of items that dynamodb can proceed in a single transaction.
      ${generatedItemsCount}`;
        }
    }
}
exports.WriteTransactionItemLimitExceededError = WriteTransactionItemLimitExceededError;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3JpdGUtdHJhbnNhY3Rpb24taXRlbS1saW1pdC1leGNlZWRlZC1lcnJvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvbW1vbi9zcmMvZXJyb3Ivd3JpdGUtdHJhbnNhY3Rpb24taXRlbS1saW1pdC1leGNlZWRlZC1lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw0Q0FBMkQ7QUFFM0QsTUFBYSxzQ0FBdUMsU0FBUSxLQUFLO0lBRy9ELFlBQVksa0JBQTBCLEVBQUUsbUJBQTRCO1FBQ2xFLEtBQUssRUFBRSxDQUFDO1FBSFYsU0FBSSxHQUFHLHdDQUF3QyxDQUFDO1FBSTlDLElBQUksQ0FBQyxPQUFPLEdBQUcsMkRBQTJELGtCQUFrQjswQ0FDdEQseUNBQTZCLElBQUksQ0FBQztRQUV4RSxJQUFJLG1CQUFtQixJQUFJLG1CQUFtQixHQUFHLGtCQUFrQixFQUFFO1lBQ25FLElBQUksQ0FBQyxPQUFPLElBQUk7O29CQUVGLGtCQUFrQjtrRkFDNEMsbUJBQW1COztRQUU3RixtQkFBbUIsRUFBRSxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztDQUNGO0FBakJELHdGQWlCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VFJBTlNBQ1RJT05fV1JJVEVfSVRFTVNfTElNSVR9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjbGFzcyBXcml0ZVRyYW5zYWN0aW9uSXRlbUxpbWl0RXhjZWVkZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgbmFtZSA9ICdXcml0ZVRyYW5zYWN0aW9uSXRlbUxpbWl0RXhjZWVkZWRFcnJvcic7XG5cbiAgY29uc3RydWN0b3Iob3JpZ2luYWxJdGVtc0NvdW50OiBudW1iZXIsIGdlbmVyYXRlZEl0ZW1zQ291bnQ/OiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWVzc2FnZSA9IGBUcmFuc2FjdGlvbiB3cml0ZSBsaW1pdCBleGNlZWRlZC4gVHJpZWQgdG8gd3JpdGUgdG90YWwgXCIke29yaWdpbmFsSXRlbXNDb3VudH1cIiBpdGVtcyBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiwgXG4gICAgY3VycmVudCB0cmFuc2FjdGlvbiB3cml0ZSBsaW1pdCBpcyBcIiR7VFJBTlNBQ1RJT05fV1JJVEVfSVRFTVNfTElNSVR9XCIuYDtcblxuICAgIGlmIChnZW5lcmF0ZWRJdGVtc0NvdW50ICYmIGdlbmVyYXRlZEl0ZW1zQ291bnQgPiBvcmlnaW5hbEl0ZW1zQ291bnQpIHtcbiAgICAgIHRoaXMubWVzc2FnZSArPSBgXFxuXG4gICAgICBUaGlzIGNvdWxkIGJlIGJlY2F1c2UsIGhvdyB1bmlxdWUgZW50aXRpZXMgYXJlIGhhbmRsZWQuIFxuICAgICAgSW5pdGlhbGx5LCBcIiR7b3JpZ2luYWxJdGVtc0NvdW50fVwiIGl0ZW1zIHdlcmUgcmVxdWVzdGVkIHRvIGJlIHByb2Nlc3NlZCBpbiBhIHRyYW5zYWN0aW9uLFxuICAgICAgYnV0IGFmdGVyIHRoZSB1bmlxdWUgZW50aXRpZXMgdHJhbnNmb3JtLCB0cmFuc2FjdGlvbiB3cml0ZSBpdGVtcyB3ZXJlIGF0IFwiJHtnZW5lcmF0ZWRJdGVtc0NvdW50fVwiXG4gICAgICB3aGljaCBpcyBsYXJnZXIgYW1vdW50IHRoYW4gdGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGR5bmFtb2RiIGNhbiBwcm9jZWVkIGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uLlxuICAgICAgJHtnZW5lcmF0ZWRJdGVtc0NvdW50fWA7XG4gICAgfVxuICB9XG59XG4iXX0=