import { TRANSACTION_WRITE_ITEMS_LIMIT } from '../constants';
export class WriteTransactionItemLimitExceededError extends Error {
    name = 'WriteTransactionItemLimitExceededError';
    constructor(originalItemsCount, generatedItemsCount) {
        super();
        this.message = `Transaction write limit exceeded. Tried to write total "${originalItemsCount}" items in a single transaction, 
    current transaction write limit is "${TRANSACTION_WRITE_ITEMS_LIMIT}".`;
        if (generatedItemsCount && generatedItemsCount > originalItemsCount) {
            this.message += `\n
      This could be because, how unique entities are handled. 
      Initially, "${originalItemsCount}" items were requested to be processed in a transaction,
      but after the unique entities transform, transaction write items were at "${generatedItemsCount}"
      which is larger amount than the number of items that dynamodb can proceed in a single transaction.
      ${generatedItemsCount}`;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid3JpdGUtdHJhbnNhY3Rpb24taXRlbS1saW1pdC1leGNlZWRlZC1lcnJvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvbW1vbi9zcmMvZXJyb3Ivd3JpdGUtdHJhbnNhY3Rpb24taXRlbS1saW1pdC1leGNlZWRlZC1lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsNkJBQTZCLEVBQUMsTUFBTSxjQUFjLENBQUM7QUFFM0QsTUFBTSxPQUFPLHNDQUF1QyxTQUFRLEtBQUs7SUFDL0QsSUFBSSxHQUFHLHdDQUF3QyxDQUFDO0lBRWhELFlBQVksa0JBQTBCLEVBQUUsbUJBQTRCO1FBQ2xFLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sR0FBRywyREFBMkQsa0JBQWtCOzBDQUN0RCw2QkFBNkIsSUFBSSxDQUFDO1FBRXhFLElBQUksbUJBQW1CLElBQUksbUJBQW1CLEdBQUcsa0JBQWtCLEVBQUU7WUFDbkUsSUFBSSxDQUFDLE9BQU8sSUFBSTs7b0JBRUYsa0JBQWtCO2tGQUM0QyxtQkFBbUI7O1FBRTdGLG1CQUFtQixFQUFFLENBQUM7U0FDekI7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1RSQU5TQUNUSU9OX1dSSVRFX0lURU1TX0xJTUlUfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgY2xhc3MgV3JpdGVUcmFuc2FjdGlvbkl0ZW1MaW1pdEV4Y2VlZGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWUgPSAnV3JpdGVUcmFuc2FjdGlvbkl0ZW1MaW1pdEV4Y2VlZGVkRXJyb3InO1xuXG4gIGNvbnN0cnVjdG9yKG9yaWdpbmFsSXRlbXNDb3VudDogbnVtYmVyLCBnZW5lcmF0ZWRJdGVtc0NvdW50PzogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBgVHJhbnNhY3Rpb24gd3JpdGUgbGltaXQgZXhjZWVkZWQuIFRyaWVkIHRvIHdyaXRlIHRvdGFsIFwiJHtvcmlnaW5hbEl0ZW1zQ291bnR9XCIgaXRlbXMgaW4gYSBzaW5nbGUgdHJhbnNhY3Rpb24sIFxuICAgIGN1cnJlbnQgdHJhbnNhY3Rpb24gd3JpdGUgbGltaXQgaXMgXCIke1RSQU5TQUNUSU9OX1dSSVRFX0lURU1TX0xJTUlUfVwiLmA7XG5cbiAgICBpZiAoZ2VuZXJhdGVkSXRlbXNDb3VudCAmJiBnZW5lcmF0ZWRJdGVtc0NvdW50ID4gb3JpZ2luYWxJdGVtc0NvdW50KSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgKz0gYFxcblxuICAgICAgVGhpcyBjb3VsZCBiZSBiZWNhdXNlLCBob3cgdW5pcXVlIGVudGl0aWVzIGFyZSBoYW5kbGVkLiBcbiAgICAgIEluaXRpYWxseSwgXCIke29yaWdpbmFsSXRlbXNDb3VudH1cIiBpdGVtcyB3ZXJlIHJlcXVlc3RlZCB0byBiZSBwcm9jZXNzZWQgaW4gYSB0cmFuc2FjdGlvbixcbiAgICAgIGJ1dCBhZnRlciB0aGUgdW5pcXVlIGVudGl0aWVzIHRyYW5zZm9ybSwgdHJhbnNhY3Rpb24gd3JpdGUgaXRlbXMgd2VyZSBhdCBcIiR7Z2VuZXJhdGVkSXRlbXNDb3VudH1cIlxuICAgICAgd2hpY2ggaXMgbGFyZ2VyIGFtb3VudCB0aGFuIHRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBkeW5hbW9kYiBjYW4gcHJvY2VlZCBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbi5cbiAgICAgICR7Z2VuZXJhdGVkSXRlbXNDb3VudH1gO1xuICAgIH1cbiAgfVxufVxuIl19