import { buildRegexForKeyMatch } from './build-regex-for-key-match';
export function unParseKey(keySchema, keyToUnParse, interpolations) {
    const { exp: keySchemaExp, keys } = buildRegexForKeyMatch(keySchema, interpolations);
    // first match is the full string, rest will be the values for variables
    const values = keySchemaExp.exec(keyToUnParse)?.splice(1) ?? [];
    return keys.reduce((acc, key, index) => {
        acc[key] = values[index];
        return acc;
    }, {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5wYXJzZS1rZXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9oZWxwZXJzL3VucGFyc2Uta2V5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFNLDZCQUE2QixDQUFDO0FBRWxFLE1BQU0sVUFBVSxVQUFVLENBQ3hCLFNBQWlCLEVBQ2pCLFlBQW9CLEVBQ3BCLGNBQXdCO0lBRXhCLE1BQU0sRUFBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBQyxHQUFHLHFCQUFxQixDQUNyRCxTQUFTLEVBQ1QsY0FBYyxDQUNmLENBQUM7SUFFRix3RUFBd0U7SUFDeEUsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUssRUFBWSxDQUFDO0lBQzNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDckMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUMsRUFBRSxFQUF5QixDQUFDLENBQUM7QUFDaEMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YnVpbGRSZWdleEZvcktleU1hdGNofSBmcm9tICcuL2J1aWxkLXJlZ2V4LWZvci1rZXktbWF0Y2gnO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5QYXJzZUtleShcbiAga2V5U2NoZW1hOiBzdHJpbmcsXG4gIGtleVRvVW5QYXJzZTogc3RyaW5nLFxuICBpbnRlcnBvbGF0aW9uczogc3RyaW5nW11cbikge1xuICBjb25zdCB7ZXhwOiBrZXlTY2hlbWFFeHAsIGtleXN9ID0gYnVpbGRSZWdleEZvcktleU1hdGNoKFxuICAgIGtleVNjaGVtYSxcbiAgICBpbnRlcnBvbGF0aW9uc1xuICApO1xuXG4gIC8vIGZpcnN0IG1hdGNoIGlzIHRoZSBmdWxsIHN0cmluZywgcmVzdCB3aWxsIGJlIHRoZSB2YWx1ZXMgZm9yIHZhcmlhYmxlc1xuICBjb25zdCB2YWx1ZXMgPSBrZXlTY2hlbWFFeHAuZXhlYyhrZXlUb1VuUGFyc2UpPy5zcGxpY2UoMSkgPz8gKFtdIGFzIGFueVtdKTtcbiAgcmV0dXJuIGtleXMucmVkdWNlKChhY2MsIGtleSwgaW5kZXgpID0+IHtcbiAgICBhY2Nba2V5XSA9IHZhbHVlc1tpbmRleF07XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgYW55Pik7XG59XG4iXX0=