"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Projection = void 0;
const base_expression_input_1 = require("./base-expression-input");
class Projection extends base_expression_input_1.BaseExpressionInput {
    getExpNameKey(key) {
        return `#PE_${key}`;
    }
    addProjectionAttributes(projectionKeys) {
        // remove duplicates
        projectionKeys = [...new Set(projectionKeys)];
        // add all keys to expression attributes list
        const scopedKeys = projectionKeys.map(key => {
            return this.addExpressionName(key);
        });
        const expression = scopedKeys.join(', ');
        this.appendToExpression(expression);
        return this;
    }
    getExpValueKey(key) {
        throw new Error(`Failed to parse exp key ${key}, Projection expression does not support specifying value`);
    }
}
exports.Projection = Projection;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvamVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2NsYXNzZXMvZXhwcmVzc2lvbi9wcm9qZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG1FQUE0RDtBQUU1RCxNQUFhLFVBQVcsU0FBUSwyQ0FBbUI7SUFDakQsYUFBYSxDQUFDLEdBQVc7UUFDdkIsT0FBTyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCx1QkFBdUIsQ0FBQyxjQUF3QjtRQUM5QyxvQkFBb0I7UUFDcEIsY0FBYyxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBRTlDLDZDQUE2QztRQUM3QyxNQUFNLFVBQVUsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzFDLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDcEMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQVc7UUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FDYiwyQkFBMkIsR0FBRywyREFBMkQsQ0FDMUYsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQXhCRCxnQ0F3QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Jhc2VFeHByZXNzaW9uSW5wdXR9IGZyb20gJy4vYmFzZS1leHByZXNzaW9uLWlucHV0JztcblxuZXhwb3J0IGNsYXNzIFByb2plY3Rpb24gZXh0ZW5kcyBCYXNlRXhwcmVzc2lvbklucHV0IHtcbiAgZ2V0RXhwTmFtZUtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAjUEVfJHtrZXl9YDtcbiAgfVxuXG4gIGFkZFByb2plY3Rpb25BdHRyaWJ1dGVzKHByb2plY3Rpb25LZXlzOiBzdHJpbmdbXSkge1xuICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgcHJvamVjdGlvbktleXMgPSBbLi4ubmV3IFNldChwcm9qZWN0aW9uS2V5cyldO1xuXG4gICAgLy8gYWRkIGFsbCBrZXlzIHRvIGV4cHJlc3Npb24gYXR0cmlidXRlcyBsaXN0XG4gICAgY29uc3Qgc2NvcGVkS2V5cyA9IHByb2plY3Rpb25LZXlzLm1hcChrZXkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuYWRkRXhwcmVzc2lvbk5hbWUoa2V5KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGV4cHJlc3Npb24gPSBzY29wZWRLZXlzLmpvaW4oJywgJyk7XG4gICAgdGhpcy5hcHBlbmRUb0V4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXRFeHBWYWx1ZUtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZhaWxlZCB0byBwYXJzZSBleHAga2V5ICR7a2V5fSwgUHJvamVjdGlvbiBleHByZXNzaW9uIGRvZXMgbm90IHN1cHBvcnQgc3BlY2lmeWluZyB2YWx1ZWBcbiAgICApO1xuICB9XG59XG4iXX0=