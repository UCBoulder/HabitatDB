"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.unParseKey = void 0;
const build_regex_for_key_match_1 = require("./build-regex-for-key-match");
function unParseKey(keySchema, keyToUnParse, interpolations) {
    var _a, _b;
    const { exp: keySchemaExp, keys } = (0, build_regex_for_key_match_1.buildRegexForKeyMatch)(keySchema, interpolations);
    // first match is the full string, rest will be the values for variables
    const values = (_b = (_a = keySchemaExp.exec(keyToUnParse)) === null || _a === void 0 ? void 0 : _a.splice(1)) !== null && _b !== void 0 ? _b : [];
    return keys.reduce((acc, key, index) => {
        acc[key] = values[index];
        return acc;
    }, {});
}
exports.unParseKey = unParseKey;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5wYXJzZS1rZXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9oZWxwZXJzL3VucGFyc2Uta2V5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJFQUFrRTtBQUVsRSxTQUFnQixVQUFVLENBQ3hCLFNBQWlCLEVBQ2pCLFlBQW9CLEVBQ3BCLGNBQXdCOztJQUV4QixNQUFNLEVBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUMsR0FBRyxJQUFBLGlEQUFxQixFQUNyRCxTQUFTLEVBQ1QsY0FBYyxDQUNmLENBQUM7SUFFRix3RUFBd0U7SUFDeEUsTUFBTSxNQUFNLEdBQUcsTUFBQSxNQUFBLFlBQVksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsbUNBQUssRUFBWSxDQUFDO0lBQzNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDckMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUMsRUFBRSxFQUF5QixDQUFDLENBQUM7QUFDaEMsQ0FBQztBQWhCRCxnQ0FnQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2J1aWxkUmVnZXhGb3JLZXlNYXRjaH0gZnJvbSAnLi9idWlsZC1yZWdleC1mb3Ita2V5LW1hdGNoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVuUGFyc2VLZXkoXG4gIGtleVNjaGVtYTogc3RyaW5nLFxuICBrZXlUb1VuUGFyc2U6IHN0cmluZyxcbiAgaW50ZXJwb2xhdGlvbnM6IHN0cmluZ1tdXG4pIHtcbiAgY29uc3Qge2V4cDoga2V5U2NoZW1hRXhwLCBrZXlzfSA9IGJ1aWxkUmVnZXhGb3JLZXlNYXRjaChcbiAgICBrZXlTY2hlbWEsXG4gICAgaW50ZXJwb2xhdGlvbnNcbiAgKTtcblxuICAvLyBmaXJzdCBtYXRjaCBpcyB0aGUgZnVsbCBzdHJpbmcsIHJlc3Qgd2lsbCBiZSB0aGUgdmFsdWVzIGZvciB2YXJpYWJsZXNcbiAgY29uc3QgdmFsdWVzID0ga2V5U2NoZW1hRXhwLmV4ZWMoa2V5VG9VblBhcnNlKT8uc3BsaWNlKDEpID8/IChbXSBhcyBhbnlbXSk7XG4gIHJldHVybiBrZXlzLnJlZHVjZSgoYWNjLCBrZXksIGluZGV4KSA9PiB7XG4gICAgYWNjW2tleV0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIGFueT4pO1xufVxuIl19